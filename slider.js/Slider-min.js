(function(e){function c(o,k,m,i,n,j,l){if(arguments.length<4){alert("init error,you must have at least 4 parameters:contentId,handlerId,pageNum and onePageWidth")}this.contentID=o;this.handlerID=k;this.pageNum=m;this.onePageWidth=i;this.step=j||10;this.direction=n;this.speed=l||1}var f=function(i){return document.getElementById(i)};var b=function(i,j,k){if(k){f(i).style[j]=k}else{return f(i).style[j]}};var h=function(k,j){b(k,"filter","alpha(opacity="+j+")");j=j/100;b(k,"-moz-opacity",j);b(k,"-khtml-opacity",j);b(k,"opacity",j)};var a=function(){if(!e.console){return}for(var j in arguments){console.log(j+":"+arguments[j])}};var d=function(l,k,j,i){if(l.addEventListener){l.addEventListener(k,j,i)}else{if(l.attachEvent){l.attachEvent("on"+k,j)}else{l["on"+k]=j}}};var g=function(k){for(var j in k){a(j+":"+k[j])}};c.prototype={changeEvent:"onclick",leftAndRightArrow:false,pageHandler:true,currentPage:0,transformEffect:"",intervalId:0,duration:6000,direction:0,rendPageNav:function(j){return j==-1||j==this.pageNum?"":(j+1)},rendNav:function(m){var o=f(this.handlerID).children;m=this.leftAndRightArrow?(m+1):m;for(var n=(this.leftAndRightArrow?1:0),k=(this.leftAndRightArrow?o.length-1:o.length);n<k;n++){o[n].className=(n==m?"current":"")}},initHandler:function(){var l=this;for(var m=(this.leftAndRightArrow?-1:0),j=(this.leftAndRightArrow?this.pageNum+1:this.pageNum);m<j;m++){if((!l.pageHandler)&&m!=-1&&m!=l.pageNum){continue}var k=document.createElement("a");k.href="#nogo";k.className=(m==-1?"left":(m==0?"current":(m==this.pageNum?"right":"")));(function(){var i=m;k[l.changeEvent]=function(){this.blur();l.toPage(i==-1?"-1":(i==l.pageNum?"+1":i))}})();k.innerHTML=l.rendPageNav(m);f(this.handlerID).appendChild(k)}},toPage:function(l){if(l==="+1"){l=this.currentPage+1}if(l==="-1"){l=this.currentPage-1}if(this.currentPage==l){return}if(l>=this.pageNum){l=l%this.pageNum}if(l<0){l=this.pageNum-1}this.rendNav(l);var j=-l*this.onePageWidth;var i=-this.currentPage*this.onePageWidth;this.stopAutoSwitch();var k=this.direction?"top":"left";this.transformFn(this.contentID,k,i,j,this.startAutoSwitch);if(b(this.contentID,k)!=j){b(this.contentID,k,j+"px")}this.currentPage=l},transformFn:function(i,o,m,n,q){switch(this.transformEffect){case"fade":var p=this;(function l(r){r=r-5;if(r==-100){h(i,100);q.call(p)}else{if(r==0){b(i,o,n+"px")}h(i,r>=0?r:-r);e.setTimeout(function(){l(r)},p.speed)}})(100);break;case"slide":var j=(n-m>0)?"1":"-1";var p=this;(function k(r){b(p.contentID,o,r+"px");if((n-r)*j>0){e.setTimeout(function(){k(r+j*p.step)},p.speed)}else{b(i,o,n+"px");q.call(p)}})(m+j*p.step);break;default:b(i,o,n+"px");q();break}},winonload:function(i){b(this.contentID,"position","absolute");this.initHandler();this.startAutoSwitch();return{}},startAutoSwitch:function(){if(this.duration>0){var i=this;this.intervalId=e.setInterval(function(){i.toPage(i.currentPage+1)},i.duration)}},stopAutoSwitch:function(){if(this.intervalId){e.clearInterval(this.intervalId)}},start:function(j,i){this.duration=j||3000;this.transformEffect=i||"slide";d(e,"load",this.winonload(),false)}};e.Slider=c})(window);